@using PatientManagement.App.Domain.Dtos

@page "/specialities"

<MudText Typo="Typo.h4" GutterBottom="true">Especialidades</MudText>

<MudTable Items="@specialities" Dense="@dense" Hover="@hover" Bordered="@bordered" Striped="@striped" Filter="new Func<SpecialityDto,bool>(FilterFunc1)" @bind-SelectedItem="selectedSpeciality">
        <ToolBarContent>
            <MudGrid GutterSize="3" Class="align-center">
                <MudItem xs="7" md="9">
                    <MudTextField @bind-Value="_searchString"
                                  Placeholder="Pesquisar"
                                  Adornment="Adornment.Start"
                                  AdornmentIcon="@Icons.Material.Filled.Search"
                                  Class="w-100" />
                </MudItem>
                <MudItem xs="5" md="3" Class="d-flex justify-end align-center">
                    <MudButton Color="Color.Primary"
                               StartIcon="@Icons.Material.Filled.Add"
                               OnClick="@OpenDialogAsync"
                               Variant="Variant.Outlined"
                               Class="mt-md-0 mt-2 w-100 w-md-auto">
                        Adicionar
                    </MudButton>
                </MudItem>
            </MudGrid>
        </ToolBarContent>
        <HeaderContent>
            <MudTh>Id</MudTh>
            <MudTh>Descrição</MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Id">@context.Id</MudTd>
            <MudTd DataLabel="Descrição">@context.Name</MudTd>
            <MudTd>
                <MudIconButton Icon="@Icons.Material.Filled.Edit" Color="Color.Primary" OnClick="@(() => OpenEditDialogAsync(context))" />
                <MudIconButton Icon="@Icons.Material.Filled.Delete" Color="Color.Error" OnClick="@(() => DeleteSpeciality(context))" />
            </MudTd>
        </RowTemplate>
        <PagerContent>
            <MudTablePager />
        </PagerContent>
    </MudTable>